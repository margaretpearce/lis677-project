<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Dili - Timor Leste</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map {
            height: 100%;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 9,
            center: {lat: -8.5564497, lng: 125.4999306},
            mapTypeId: google.maps.MapTypeId.TERRAIN
        });

        // Define the LatLng coordinates for the polygon's path.
        var polygonCoords = [
            {lat: -8.585306049728368, lng: 125.53430007480472},
            {lat: -8.61620168735101, lng: 125.52863767246095},
            {lat: -8.590148269126871, lng: 125.64124751572263},
            {lat: -8.573598793168054, lng: 125.78200982480462},
            {lat: -8.513335458907896, lng: 125.85204762656247},
            {lat: -8.488717832310904, lng: 125.82715630917971},
            {lat: -8.516178930047197, lng: 125.74570310629883},
            {lat: -8.520550481625675, lng: 125.60657168076182},
            {lat: -8.53744196377332, lng: 125.53292919101568},
            {lat: -8.565615947652619, lng: 125.53636001132816},
            {lat: -8.585306049728368, lng: 125.53430007480472}
        ];

        var islandCoords = [
            {lat: -8.267090536046096, lng: 125.49790502695305},
            {lat: -8.298779139425912, lng: 125.52687013535149},
            {lat: -8.308044323837798, lng: 125.59085416464836},
            {lat: -8.162447579052774, lng: 125.64535383945304},
            {lat: -8.1208144565018, lng: 125.63599548203126},
            {lat: -8.183424724871708, lng: 125.5662636089844},
            {lat: -8.225599628931699, lng: 125.52384457187486},
            {lat: -8.267090536046096, lng: 125.49790502695305}
        ];

        var polygonBoundingBoxCoords = [
            {lat: -8.61620168735101, lng: 125.52863767246095},
            {lat: -8.61620168735101, lng: 125.85204762656247},
            {lat: -8.488717832310904, lng: 125.85204762656247},
            {lat: -8.488717832310904, lng: 125.52863767246095},
            {lat: -8.61620168735101, lng: 125.52863767246095}
        ];

        var islandBoundingBoxCoords = [
            {lat: -8.308044323837798, lng: 125.49790502695305},
            {lat: -8.308044323837798, lng: 125.64535383945304},
            {lat: -8.1208144565018, lng: 125.64535383945304},
            {lat: -8.1208144565018, lng: 125.49790502695305},
            {lat: -8.308044323837798, lng: 125.49790502695305}
        ];

        var boundingBoxes = [
            {north: -8.481451500349404, south: -8.571284958350475, east: 125.66492600178006, west: 125.57406711556732},
            {north: -8.481451500349404, south: -8.571284958350475, east: 125.7557848879928, west: 125.66492600178006},
            {north: -8.481451500349404, south: -8.571284958350475, east: 125.84664377420555, west: 125.7557848879928},
            {north: -8.173294136836192, south: -8.263127594837263, east: 125.63408434622546, west: 125.54329813337718}
        ];

        var cityCoords = [
            {lng: 125.84673249999999, lat: -8.5163535},{lng: 125.8360756, lat: -8.528489500000001},{lng: 125.82315809999999, lat: -8.541902699999998},{lng: 125.81056360000002, lat: -8.5444575},{lng: 125.79215620000001, lat: -8.558508699999999},{lng: 125.76955070000001, lat: -8.5741561},{lng: 125.7369341, lat: -8.5786266},{lng: 125.71562030000001, lat: -8.5818198},{lng: 125.6752533, lat: -8.5767107},{lng: 125.6406991, lat: -8.5929959},{lng: 125.60775960000001, lat: -8.5965083},{lng: 125.55738149999999, lat: -8.606726},{lng: 125.53671360000001, lat: -8.614389099999999},{lng: 125.52868529999999, lat: -8.6157121},{lng: 125.5363604, lat: -8.5644939},{lng: 125.5359929, lat: -8.5378002},{lng: 125.31257249999999, lat: -8.3080796},{lng: 125.3215603, lat: -8.2912825},{lng: 125.3398486, lat: -8.232748099999998},{lng: 125.67274919999998, lat: -8.089545900000001},{lng: 125.69586579999999, lat: -8.101188699999998},{lng: 125.8275258, lat: -8.2509126},{lng: 125.88285509999999, lat: -8.313816300000001},{lng: 125.8179357, lat: -8.484286200000001},{lng: 125.8399508, lat: -8.500065},{lng: 125.85286819999999, lat: -8.5147566},{lng: 125.84673249999999, lat: -8.5163535}
        ];

        // Draw the polygon version of the city
        var cityPolygon = new google.maps.Polygon({
            paths: polygonCoords,
            strokeColor: '#FF0000',
            strokeOpacity: 0.5,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.2,
            editable: true,
            draggable: true,
        });
        cityPolygon.setMap(map);

        // Draw the polygon version of the city
        var islandPolygon = new google.maps.Polygon({
            paths: islandCoords,
            strokeColor: '#FF0000',
            strokeOpacity: 0.5,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.2,
            editable: true,
            draggable: true,
        });
        islandPolygon.setMap(map);

        // Draw bounding boxes surrounding each marker
        for(i = 0; i < boundingBoxes.length; i++) {
            var rectangle = new google.maps.Rectangle({
                strokeColor: '#ffffff',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#FFff00',
                fillOpacity: 0.4,
                map: map,
                bounds: boundingBoxes[i]
            });
        }

        // Draw the city behind the polygon
        var cityBoundary = new google.maps.Polygon({
            paths: cityCoords,
            fillColor: '#ADD8E6',
            strokeOpacity: 0.8,
            strokeColor: '#0000FF',
            strokeWeight: 2,
            fillOpacity: 0.1,
        });
        cityBoundary.setMap(map);

        // Draw rectangular outline of polygon
        var polygonBoxed = new google.maps.Polygon({
            paths: polygonBoundingBoxCoords,
            strokeColor: '#000000',
            strokeOpacity: 0.7,
            strokeWeight: 1,
            fillOpacity: 0
        });
        polygonBoxed.setMap(map);

        // Draw rectangular outline of polygon (island part)
        var islandBoxed = new google.maps.Polygon({
            paths: islandBoundingBoxCoords,
            strokeColor: '#000000',
            strokeOpacity: 0.7,
            strokeWeight: 1,
            fillOpacity: 0
        });
        islandBoxed.setMap(map);

        // Respond to polygon click events
        infoWindow = new google.maps.InfoWindow;
        cityPolygon.addListener('click', showArrays);
        islandPolygon.addListener('click', showArrays);

        /** @this {google.maps.Polygon} */
        function showArrays(event) {
            // Since this polygon has only one path, we can call getPath() to return the
            // MVCArray of LatLngs.
            var vertices = this.getPath();

            var contentString = '<b>Bermuda Triangle polygon</b><br>' +
                    'Clicked location: <br>' + event.latLng.lat() + ',' + event.latLng.lng() +
                    '<br>';

            // Iterate over the vertices.
            for (var i =0; i < vertices.getLength(); i++) {
                var xy = vertices.getAt(i);
                contentString += '<br>' + '{lat: ' + xy.lat() + ', lng: ' +
                        xy.lng() + '},';
            }

            // End with the first coordinate to close the polygon
            var xy = vertices.getAt(0);
            contentString += '<br>' + '{lat: ' + xy.lat() + ', lng: ' +
                    xy.lng() + '}';

            // Replace the info window's content and position.
            infoWindow.setContent(contentString);
            infoWindow.setPosition(event.latLng);

            infoWindow.open(map);
        }
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?callback=initMap">
</script>
</body>
</html>